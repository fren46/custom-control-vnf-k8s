import sys


def get_user_input(request):
    print(request, end="", file=sys.stderr)
    sys.stderr.flush()
    return sys.stdin.readline().replace("\n", "").strip()


def get_user_choice(request, options):
    while True:
        print(request, file=sys.stderr)
        sys.stderr.flush()
        for idx, opt in enumerate(options):
            print("%d) %s" % (idx+1, opt), file=sys.stderr)
        try:
            answer = int(get_user_input("Please select a valid option: "))
            if answer <= len(options):
                return options[answer - 1]
            else:
                error("Invalid choice")
        except ValueError:
            pass


def error(text):
    print(text, file=sys.stderr)


def warn(text):
    import warnings
    warnings.warn(text)
